<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="/WEB-INF/includes/template/main.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
                xmlns:p="http://primefaces.org/ui">


    <ui:define name="content">
        <div class="content">
            <div class="row">
                <div class="col-md-6">
                    <ol class="breadcrumb">
                        <li><a href="solicitud.xhtml">Solicitud</a></li>
                        <li class="active">/ Nueva Solicitud</li>
                    </ol>
                </div>
                <div class="col-md-6"> 
                    <h:messages showDetail="true" styleClass="alert" style="list-style: none; padding: 0px; display: block" infoClass="alert-success" errorClass="alert-danger"/>
                </div>
            </div>
            <br/><br/><br/>
            <div class="container-fluid">
                <div class="main main-raised" style="background-image: url('#{request.contextPath}/resources/img/form-wizard-bg.jpg'); background-size: cover; background-position: top center;">
                    <div class="container" style="padding: 30px;">
                        <h:form id="formNuevaSolicitud" prependId="false" a:novalidate="novalidate">
                            <h3 class="card-title text-white text-center">Informaci√≥n General de Solicitud</h3>
                            <div class="row">                                    
                                <div id="general" class="col-md-8">                                        
                                    <div class="form-group row">
                                        <div class="col-md-12">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="material-icons text-white">person</i>
                                                    </span>
                                                </div>
                                                <h:selectOneMenu class="form-control selectpicker text-white" a:required="" a:data-style="btn btn-link" value="#{solicitudController.nuevaSolicitud.usuariosId}">
                                                    <f:selectItem itemValue="" itemLabel="Seleccione el usuario de la solicitud..."/>
                                                    <f:selectItems value="#{usuarioController.usuariosList}" var="t" itemValue="#{t.id}" itemLabel="#{t.id} - #{t.nombres} #{t.apellidos}"/>                                            
                                                </h:selectOneMenu>   
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <div class="col-md-6">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="material-icons text-white">card_giftcard</i>
                                                    </span>
                                                </div>
                                                <h:selectOneMenu class="form-control selectpicker text-white" a:required="" 
                                                                 a:data-style="btn btn-link" value="#{solicitudController.nuevaSolicitud.tipoEvento}">
                                                    <f:selectItem itemValue="" itemLabel="Seleccione el tipo de evento..."/>
                                                    <f:selectItems value="#{solicitudController.tipoEventoList}" var="t" itemValue="#{t.id}" itemLabel="#{t.id} - #{t.tipo}"/>                                            
                                                </h:selectOneMenu>   
                                            </div>
                                        </div>
                                        <div class="col-md-6 text-white">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="material-icons text-white">add_location</i>
                                                    </span>
                                                </div>
                                                <h:inputText class="form-control text-white" a:type="text" a:required="" a:placeholder="Direccion de Evento..."  
                                                             value="#{solicitudController.nuevaSolicitud.direccion}"
                                                             a:aria-invalid="false" >
                                                </h:inputText>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <div class="col-md-12 text-white">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="material-icons text-white">info</i>
                                                    </span>
                                                </div>
                                                <h:inputTextarea a:type="text" a:required="" a:placeholder="Escriba los detalles de su evento (sea tan especifico como desee)..."                                                                 
                                                                 a:aria-invalid="false" class="form-control text-white datetimepicker" 
                                                                 value="#{solicitudController.nuevaSolicitud.especificaciones}">
                                                </h:inputTextarea>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <div class="col-md-9 text-white">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="material-icons text-white">date_range</i>
                                                    </span>
                                                </div>
                                                <p:calendar value="#{solicitudController.nuevaSolicitud.fechaReserva}" pattern="yyyy-MM-dd HH:mm:ss"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <h3 class="card-title text-white text-center">Materiales de la Solicitud</h3>
                            <div class="row">
                                <div id="material" class="col-md-8">
                                    <div class="form-group row text-white">
                                        <p:selectManyCheckbox value="#{solicitudController.nuevaSolicitud.materialList}" layout="grid" columns="4">
                                            <f:selectItems value="#{solicitudController.materialList}" var="m" itemLabel="#{m.tipoMaterial}" itemValue="#{m.id}" />
                                        </p:selectManyCheckbox>                                            
                                    </div>
                                </div>
                            </div>
                            <div class="footer-row text-center">
                                <a class="btn btn-danger btn-flat btn-wd btn-lg-" href="#{request.contextPath}/SI/index.xhtml">Cancelar</a>
                                &nbsp;&nbsp;
                                <h:commandButton class="btn btn-primary btn-flat btn-wd btn-lg-" value="Enviar Solicitud" action="#{solicitudController.registrar()}"/>
                            </div>
                        </h:form>
                    </div>
                </div>
            </div>

        </div>
    </ui:define>
</ui:composition>

